# Конфигурации и данные MySQL

Папка `mysql` содержит конфигурационные файлы, скрипты и данные для настройки и работы с MySQL. MySQL используется в качестве системы управления базами данных для WordPress-проектов.

## Содержание

- [Описание структуры папки](#описание-структуры-папки)
  - [Конфигурационные файлы](#конфигурационные-файлы)
    - [init.sh](#initsh)
    - [my.cnf](#mycnf)
    - [root-pass.sh](#root-passsh)
  - [Данные](#данные)
  - [phpMyAdmin](#phpmyadmin)

## Описание структуры папки

### Конфигурационные файлы

#### `init.sh`

Скрипт для инициализации базы данных при первом запуске контейнера. Он проверяет, пуста ли директория `/var/lib/mysql`, и если да, инициализирует базу данных и устанавливает пароль для пользователя `root`.

**Основные действия:**
1. Проверяет, пуста ли директория `/var/lib/mysql`.
2. Если директория пуста, инициализирует базу данных с помощью команды `mysql_install_db`.
3. Запускает сервер MySQL.
4. Устанавливает пароль для пользователя `root` (по умолчанию: `123`).

#### `my.cnf`

Конфигурационный файл для MySQL. Содержит настройки для работы сервера MySQL.

**Основные параметры:**
- **`[mysqld]`**: Настройки сервера MySQL.
  - **`datadir=/var/lib/mysql`**: Указывает директорию для хранения данных.
  - **`socket=/run/mysqld/mysqld.sock`**: Указывает путь к сокету MySQL.
  - **`user=mysql`**: Указывает пользователя, от имени которого будет работать сервер MySQL.
  - **`bind-address=0.0.0.0`**: Разрешает подключение к MySQL с любого IP-адреса.

#### `root-pass.sh`

Скрипт для изменения пароля пользователя `root`. Используется для смены пароля после инициализации базы данных.

**Основные действия:**
1. Проверяет, запущен ли сервер MySQL.
2. Изменяет пароль пользователя `root` на указанный (по умолчанию: `123`).

### Данные

Папка `data` используется для хранения данных MySQL. Все базы данных, таблицы и другие данные хранятся в этой директории.

- **`/var/lib/mysql`**: Директория внутри контейнера, где хранятся данные MySQL.
- **`data/`**: Директория на хосте, которая монтируется в `/var/lib/mysql` внутри контейнера.

### phpMyAdmin

Папка `phpmyadmin` содержит конфигурационный файл для настройки phpMyAdmin — веб-интерфейса для управления базами данных.

#### `config.user.inc.php`

Конфигурационный файл для phpMyAdmin. Содержит настройки для подключения к серверу MySQL.

**Основные параметры:**
- **`$cfg['Servers'][$i]['host'] = '0.0.0.0';`**: Указывает хост MySQL.
- **`$cfg['Servers'][$i]['port'] = '3306';`**: Указывает порт MySQL.
- **`$cfg['Servers'][$i]['auth_type'] = 'cookie';`**: Указывает тип аутентификации (по умолчанию: `cookie`).
- **`$cfg['Servers'][$i]['AllowNoPassword'] = false;`**: Запрещает вход без пароля.

### Доступ к данным

1. Данные MySQL хранятся в папке `mysql/data`. Для резервного копирования или восстановления данных можно использовать эту директорию.
2. Для доступа к данным через phpMyAdmin откройте браузер и перейдите по адресу: [http://127.0.0.1:5000/](http://127.0.0.1:5000/).
